<html>
  <head>
    <link rel="stylesheet" href="/css/bootstrap.min.css"</link>
    <link rel="stylesheet" href="/css/global.css"</link>
    <link rel="stylesheet" href="/css/toastr.min.css"></link>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/toastr.min.js"></script>
    <script src="/faye/faye.js"></script>
    <title>Trending</title>
    <meta
            name='viewpoint'
            content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'
            />
  </head>
  <body>
    <a href="/import" style="text-decoration: none;color: black">
    <div class="container">
      <div class="row">
        <div class="col">
          <h4>Teams</h4>
        </div>
        <div class="col">
          <h4>Auto Scale Average</h4>
        </div>
        <div class="col">
          <h4>Auto Scale Total</h4>
        </div>
        <div class="col">
          <h4>Tele Scale Average</h4>
        </div>
        <div class="col">
          <h4>Tele Scale Total</h4>
        </div>
        </div>
      <% @teams.each do |team, matches| %>
        <div class="row">
          <div class="col">
            <%= team %>
          </div>
          <div class="col">
            <%= matches.map{|m| (m['auto-scale'] || 0).to_i }.reduce{|x, r| x.to_i + r.to_i} / matches.count %>
          </div>
          <div class="col">
            <%= matches.map{|m| (m['auto-scale'] || 0).to_i }.reduce{|x, r| x.to_i + r.to_i} %>
          </div>
          <div class="col">
            <%= matches.map{|m| (m['tele-scale'] || 0).to_i }.reduce{|x, r| x.to_i + r.to_i} / matches.count %>
          </div>
          <div class="col">
            <%= matches.map{|m| (m['tele-scale'] || 0).to_i }.reduce{|x, r| x.to_i + r.to_i} %>
          </div>
        </div>
      <% end %>
    </div>
    </a>
  </body>
</html>
